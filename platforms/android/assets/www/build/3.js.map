{"version":3,"sources":["../../src/pages/riderdashboard/riderdashboard.module.ts","../../src/pages/riderdashboard/riderdashboard.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACM;AAUtD;IAAA;IAAuC,CAAC;IAA3B,wBAAwB;QARpC,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,2EAAkB;aACnB;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,2EAAkB,CAAC;aAC7C;SACF,CAAC;OACW,wBAAwB,CAAG;IAAD,+BAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZK;AACe;AACiC;AACxC;AACwC;AAE1F;;;;;GAKG;AAOH;IAEE,4BAAmB,eAAwC,EAAS,WAA8B,EAAS,eAAwC,EAAS,OAAsB,EAAS,SAAoB;QAA5L,oBAAe,GAAf,eAAe,CAAyB;QAAS,gBAAW,GAAX,WAAW,CAAmB;QAAS,oBAAe,GAAf,eAAe,CAAyB;QAAS,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAQ/M,SAAI,GAAG,OAAO,CAAC;QAGf,SAAI,GAAG;YACL,UAAU,EAAE,EAAE;YACd,UAAU,EAAE,EAAE;SACf;QAED,uBAAkB,GAAG,0EAA0E,CAAC;IAfhG,CAAC;IAED,2CAAc,GAAd;QACE,IAAI,CAAC,yBAAyB,EAAE,CAAC;IACnC,CAAC;IAaK,sDAAyB,GAA/B;;;;;;;wBAEE,SAAI;wBAAe,qBAAM,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,uBAAuB,CAAC;;wBAAjF,GAAK,WAAW,GAAG,SAA8D,CAAC;wBAElF,IAAI,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,WAAW,CAAC;wBAChE,IAAI,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,aAAa,CAAC;wBAElE,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,EAAE,OAAO,EAAE,EAAE,EAAE,CAAC,CAAC;wBACxD,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;wBAEvB,OAAO,CAAC,GAAG,CAAC,2BAA2B,CAAC,CAAC;wBACzC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;wBAEvB,IAAI,CAAC,eAAe,CAAC,eAAe,CAAC,IAAI,CAAC,kBAAkB,EAAC,IAAI,CAAC,IAAI,CAAC;6BACtE,IAAI,CAAC,UAAC,MAAW;4BAEhB,EAAE,CAAC,CAAC,MAAM,CAAC,UAAU,IAAI,IAAI,CAAC,CAAC,CAAC;gCAC9B,KAAI,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC;gCAC1B,KAAI,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;gCAC9C,OAAO,CAAC,GAAG,CAAC,KAAI,CAAC,WAAW,CAAC,CAAC;gCAE9B,EAAE,EAAC,KAAI,CAAC,WAAW,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC;oCACnC,KAAI,CAAC,eAAe,CAAC,YAAY,CAAC,sDAAsD,CAAC,CAAC;oCAC1F,MAAM,CAAC,KAAK,CAAC;gCACb,CAAC;4BAEH,CAAC;4BACD,IAAI,CAAC,CAAC;gCACJ,KAAI,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC;gCAC1B,KAAI,CAAC,eAAe,CAAC,YAAY,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;4BAClD,CAAC;wBAEH,CAAC,EAAE,UAAC,GAAQ;4BAEZ,KAAI,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC;4BACxB,OAAO,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;4BACtC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;4BACjB,KAAI,CAAC,eAAe,CAAC,YAAY,CAAC,6DAA6D,CAAC,CAAC;wBACnG,CAAC,CACF,CAAC;;;;;KAED;IAEC,0CAAa,GAAb,UAAc,OAAY;QAA1B,iBAIC;QAHC,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,gBAAgB,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC;YAC5E,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;QACvC,CAAC,CAAC,CAAC;IACP,CAAC;IAnEQ,kBAAkB;QAJ9B,wEAAS,CAAC;YACT,QAAQ,EAAE,qBAAqB;WACG;SACnC,CAAC;2BAG+M;OAFpM,kBAAkB,CAqE9B;IAAD,CAAC;AAAA;SArEY,kBAAkB,e","file":"3.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { RiderdashboardPage } from './riderdashboard';\n\n@NgModule({\n  declarations: [\n    RiderdashboardPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(RiderdashboardPage),\n  ],\n})\nexport class RiderdashboardPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/riderdashboard/riderdashboard.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { CourierproviderProvider } from '../../providers/courierprovider/courierprovider';\nimport { LoadingController } from 'ionic-angular';\nimport { SessionproviderProvider } from '../../providers/sessionprovider/sessionprovider';\n\n/**\n * Generated class for the RiderdashboardPage page.\n *\n * See https://ionicframewoironk.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-riderdashboard',\n  templateUrl: 'riderdashboard.html',\n})\nexport class RiderdashboardPage {\n\n  constructor(public sessionProvider: SessionproviderProvider, public loadingCtrl: LoadingController, public courierProvider: CourierproviderProvider, public navCtrl: NavController, public navParams: NavParams) {\n  }\n\n  ionViewDidLoad() {\n    this.getRiderDetailsAndRequest();    \n  }\n\n  loading: any;\n  role = \"Rider\";\n  allRequests: any;\n  userDetails: any;\n  data = {\n    BranchCode: \"\",\n    RiderEmail: \"\"\n  }\n\n  getRiderRequestURL = 'http://gtmobile.gtbank.com/CourierAPI/api/Courier/get-all-rider-requests';\n\n  async getRiderDetailsAndRequest() {\n\n    this.userDetails = await this.sessionProvider.getStorage('registeredUserDetails');\n\n    this.data.BranchCode = JSON.parse(this.userDetails).Branch_Code;\n    this.data.RiderEmail = JSON.parse(this.userDetails).Email_Address;   \n    \n    this.loading = this.loadingCtrl.create({ content: \"\" });\n    this.loading.present();\n\n    console.log(\"About to call the service\");\n    console.log(this.data);\n\n    this.courierProvider.callServicePost(this.getRiderRequestURL,this.data)\n    .then((result: any) => {\n\n      if (result.StatusCode == 1000) {\n        this.loading.dismissAll();      \n        this.allRequests = JSON.parse(result.Message);\n        console.log(this.allRequests);\n\n        if(this.allRequests.length === 0) {\n        this.courierProvider.presentAlert(\"There are no available request for you at the moment\");   \n        return false;            \n        }\n\n      }\n      else {\n        this.loading.dismissAll();      \n        this.courierProvider.presentAlert(result.Error);\n      }\n\n    }, (err: any) => {\n\n    this.loading.dismissAll();      \n      console.log(\"Call entered exception\");      \n      console.log(err);\n      this.courierProvider.presentAlert(\"Service not available at the moment, please try again later\");\n    }\n  );\n\n  }\n\n    acceptRequest(reqDets: any) {\n      this.sessionProvider.setStorage('requestDetails', JSON.stringify(reqDets)).then(() => {\n          this.navCtrl.push(\"ViewrequestPage\");      \n        });\n    } \n  \n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/riderdashboard/riderdashboard.ts"],"sourceRoot":""}